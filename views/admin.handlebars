<script type="text/javascript" src="../js/admin.js"></script>

{{! Display a message if one was provided. }}
{{#if toastMessage}}
<p class="toast">{{toastMessage}}</p>
{{/if}}

<div class="container">
  <h1>Administration Page</h1>

  <br />
  <h2>All Users</h2>
  <table class="table">


    <tr>
      <th></th>
      <th>Username</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>DOB</th>
      <th>Email</th>
      <th>Description</th>
    </tr>

    {{#if allUsers}}
    {{#each allUsers}}
    <tr id="{{allUsers}}">
      <td>
        <form id="delUser" action="./deleteUser?id={{user_id}}" method="POST">
          <button class="button" type="submit" id="btnConfirm">Delete</button>
        </form>
      </td>

      <td><a href="./user?id={{user_id}}">{{username}}</a></td>
      <td>{{{first_name}}}</td>
      <td>{{last_name}}</td>
      <td>{{dob}}</td>
      <td>{{email}}</td>
      <td id="truncate-bio">{{{description}}}</td>
    </tr>

    {{/each}}
    {{/if}}

  </table>
  <br />

  <h2>All Articles</h2>
  <table class="table">


    <tr>
      <th></th>
      <th>Title</th>
      <th>Date Published</th>
      <th>User</th>
    </tr>


    {{#if allArticles}}
    {{#each allArticles}}
    <tr>
      <td>
        <form id="delArticle" action="./deleteArticle?id={{article_id}}" method="POST">
          <button class="button" type="submit" id="btnConfirm">Delete</button>
        </form>
      </td>

      <td><a href="article?id={{article_id}}">{{title}}</a></td>
      <td>{{date_published}}</td>
      <td>{{username}}</td>
    </tr>

    {{/each}}

    {{/if}}

  </table>

  <br />

</div>